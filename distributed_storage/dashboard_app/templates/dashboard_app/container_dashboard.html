{% extends 'base.html' %}

{% block title %}Container Health and Metrics{% endblock %}

{% block content %}
<div class="container my-4">
  <h1 class="text-center mb-4">Container Health and Metrics Dashboard</h1>

  <!-- CONTAINER INFO -->
  <div class="card mb-4">
    <div class="card-header">
      <h4>Container Info</h4>
    </div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Container Name</th>
            <th>Status</th>
            <th>Error</th>
            <th>Started At</th>
            <th>IP Address</th>
          </tr>
        </thead>
        <tbody>
          {% for container in health_info %}
          <tr>
            <td>{{ container.name }}</td>
            <td>{{ container.status }}</td>
            <td>{{ container.error }}</td>
            <td>{{ container.started_at }}</td>
            <td>{{ container.ip_address }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- CONTAINER METRICS -->
  <div class="card mb-4">
    <div class="card-header">
      <h4>Container Metrics</h4>
    </div>
    <div class="card-body">
      <table class="table table-striped mb-4">
        <thead>
          <tr>
            <th>Container Name</th>
            <th>CPU Usage (%)</th>
            <th>Memory Usage (MB)</th>
            <th>RX Bytes</th>
            <th>TX Bytes</th>
          </tr>
        </thead>
        <tbody>
          {% for container in metrics_info %}
          <tr>
            <td>{{ container.name }}</td>
            <td>{{ container.cpu_usage }}%</td>
            <td>{{ container.memory_usage }} MB</td>
            <td>{{ container.rx_bytes }} bytes</td>
            <td>{{ container.tx_bytes }} bytes</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
